<html>
	<head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        
	</head>
	<body>
		<script type="text/javascript">
			window.onload = function buttonState() {

                var lightsList = '{{ lstate }}'
				let mainLight = lightsList[0];
				let lighthouse = lightsList[1];
				let OrangeLight = lightsList[2];
				
				console.log(lightsList, mainLight)
				
				Array.prototype.forEach.call( lightsList, element => {
					if (element == 0) {
						let e = document.getElementById(element);
						classToggle(e);
					} 
				});
				
				//fetch('http://localhost:5000/lightson')
            }

            function classToggle(e) {

                console.log(e)       

                e.classList.toggle('btn');
                e.classList.toggle('btn-secondary');
                e.classList.toggle('btn');
                e.classList.toggle('btn-light');
            }
			console.log('test')
        </script>


		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container">
				<div class="container">
					<div class="navbar-header">
						<a class="navbar-brand" href="/">Unipope.co.uk</a>
						<button class="navbar-toggler " type="button"  data-toggle="collapse" data-target=".navbar-collapse" aria-controls="toggleTarget" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
						</button>         
					</div>
				</div>
				<div class="collapse navbar-collapse" >
					<ul class="navbar-nav ">
						<li class="nav-item active">
							<a href="/smarthome" class="nav-link">Smarthome</a>
                        </li>
						<li class="nav-item">
							<a href="/logout" class="nav-link align-baseline" >
								<svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-door-closed" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2zm1 0v13h8V2H4z"/>
									<path d="M7 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
									<path fill-rule="evenodd" d="M1 15.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"/>
								</svg>
							</a>
						</li>
					</ul>
				</div>
			</div>
        </nav>
        
		<br>
		<div class="container">
			<div class="row">
				<div class="col d-flex justify-content-center">
					<div class="justify-content-center">

						<h1>Lights</h1>
						<span>All Lights</span><br>
						<a href="/lightson" class="btn btn-light">
						On  
						</a>
						<a href="/lightsoff" class="btn btn-light">
						Off
                        </a>
						<a href="/lightson" class="btn btn-light" onclick="classToggle(this)" id='0'>
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-power" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5.578 4.437a5 5 0 1 0 4.922.044l.5-.866a6 6 0 1 1-5.908-.053l.486.875z"/>
                                <path fill-rule="evenodd" d="M7.5 8V1h1v7h-1z"/>
                            </svg>
                        </a>
						
						<br><br>
						<span>Main Lighting</span><br>
						<a href="/lighton?num=2&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=2&st=shelfstrip.lan" class="btn btn-light">
						Off
						</a>
						<a href="/lightson" class="btn btn-light" onclick="classToggle(this)" id='1'>
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-power" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5.578 4.437a5 5 0 1 0 4.922.044l.5-.866a6 6 0 1 1-5.908-.053l.486.875z"/>
                                <path fill-rule="evenodd" d="M7.5 8V1h1v7h-1z"/>
                            </svg>
                        </a>

                        
						<br><br>
						<span>Lighthouse</span><br>
						<a href="/lighton?num=0&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=0&st=shelfstrip.lan" class="btn btn-light">
						Off
                        </a>
                        
						<br><br>
						<span>Orange Light</span> <br>
						<a href="/lighton?num=1&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=1&st=shelfstrip.lan" class="btn btn-light">
						Off
                        </a>
                        
					</div>
				</div>
				<br>
				<div class="col d-flex justify-content-center">
					<div class="justify-content-center">

						<h1>Desk</h1>
						<span>All Plugs</span><br>
						<a href="/lightson" class="btn btn-light">
						On  
						</a>
						<a href="/lightsoff" class="btn btn-light">
						Off
                        </a>
                        
						<br><br>
						<span>PC Power</span><br>
						<a href="/lighton?num=2&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=2&st=shelfstrip.lan" class="btn btn-light">
						Off
                        </a>
                        
						<br><br>
						<span>21:9 Power</span><br>
						<a href="/lighton?num=0&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=0&st=shelfstrip.lan" class="btn btn-light">
						Off
                        </a>
                        
						<br><br>
						<span>Vertical Power</span> <br>
						<a href="/lighton?num=1&st=shelfstrip.lan" class="btn btn-light">
						On
						</a>
						<a href="/lightoff?num=1&st=shelfstrip.lan" class="btn btn-light">
						Off
                        </a>
                        
					</div>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	</body>
</html>
